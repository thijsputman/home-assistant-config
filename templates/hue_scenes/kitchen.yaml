# Kitchen counter & cupboards [Hue zone]
- trigger:
    - trigger: state
      id: scene_change
      entity_id:
        - scene.kitchen_counter_cupboards_activity
        - scene.kitchen_ambiance
        - scene.kitchen_bright_custom
        - scene.kitchen_daytime
        - scene.kitchen_movie
      to: ~
    - trigger: state
      id: button_press
      entity_id:
        - event.living_room_switch_couch_button_1
        - event.living_room_switch_couch_button_2
        - event.living_room_switch_couch_button_3
        - event.living_room_switch_garden_button_1
        - event.living_room_switch_garden_button_2
        - event.living_room_switch_garden_button_3
        # event.living_room_switch_garden_button_4 – lights off
      to: ~
    - trigger: state
      id: lights_off
      entity_id: light.kitchen_counter_cupboards
      to: "off"
  sensor:
    - name: Hue scene (Kitchen counter & cupboards)
      unique_id: d4b9f4af-0104-44d7-9e5c-3d3d33d53b26
      icon: mdi:movie-filter
      state: >-
        {% if trigger.id == 'lights_off' %}
          «Off»
        {% elif
          trigger.id == 'scene_change' or (
            trigger.id == 'button_press' and
              trigger.to_state.attributes.event_type == 'initial_press'
          )
        %}
          {% if trigger.entity_id in
            [
              'scene.kitchen_counter_cupboards_activity',
              'scene.kitchen_bright_custom',
              'event.living_room_switch_garden_button_2'
            ]
          %}
            Activity
          {% elif trigger.entity_id in
            [
              'scene.kitchen_ambiance',
              'scene.kitchen_daytime',
              'scene.kitchen_movie',
              'event.living_room_switch_couch_button_1',
              'event.living_room_switch_couch_button_2',
              'event.living_room_switch_couch_button_3',
              'event.living_room_switch_garden_button_1',
              'event.living_room_switch_garden_button_3'
            ]
          %}
            «Kitchen»
          {% endif %}
        {% else %}
          {{ this.state }}
        {% endif %}
      attributes:
        light_id: light.kitchen_counter_cupboards
      availability: >-
        {{ has_value('light.kitchen_counter_cupboards') }}
# Kitchen [Hue room]
- trigger:
    - trigger: state
      id: scene_change
      entity_id:
        - scene.kitchen_ambiance
        - scene.kitchen_bright_custom
        - scene.kitchen_daytime
        - scene.kitchen_movie
      to: ~
    - trigger: state
      id: button_press
      entity_id:
        - event.living_room_switch_couch_button_1
        - event.living_room_switch_couch_button_2
        - event.living_room_switch_couch_button_3
        - event.living_room_switch_garden_button_1
        - event.living_room_switch_garden_button_2
        - event.living_room_switch_garden_button_3
        # event.living_room_switch_garden_button_4 – lights off
      to: ~
    - trigger: state
      id: lights_off
      entity_id: light.kitchen
      to: "off"
  sensor:
    - name: Hue scene (Kitchen)
      unique_id: 328350fb-0a61-4e9d-8081-8bc2febe5162
      icon: mdi:movie-filter
      state: >-
        {% if trigger.id == 'lights_off' %}
          «Off»
        {% elif
          trigger.id == 'scene_change' or (
            trigger.id == 'button_press' and
              trigger.to_state.attributes.event_type == 'initial_press'
          )
        %}
          {% if trigger.entity_id in
            [
              'scene.kitchen_ambiance',
              'event.living_room_switch_couch_button_1',
              'event.living_room_switch_couch_button_3',
              'event.living_room_switch_garden_button_1',
              'event.living_room_switch_garden_button_3'
            ]
          %}
            Ambiance
          {% elif trigger.entity_id in
            [
              'scene.kitchen_bright_custom',
              'event.living_room_switch_garden_button_2'
            ]
          %}
            Bright (custom)
          {% elif trigger.entity_id in ['scene.kitchen_daytime'] %}
            Daytime
          {% elif trigger.entity_id in
            [
              'scene.kitchen_movie',
              'event.living_room_switch_couch_button_2'
            ]
          %}
            Movie
          {% endif %}
        {% else %}
          {{ this.state }}
        {% endif %}
      attributes:
        light_id: light.kitchen
      availability: >-
        {{ has_value('light.kitchen') }}
- trigger:
    - trigger: state
      entity_id: sensor.hue_scene_kitchen
      to: ~
  sensor:
    - name: Hue scene (Kitchen) – previous
      unique_id: 833bdce8-e798-4279-8d0f-a021e7552a6e
      icon: mdi:movie-filter
      state: >-
        {%
          if trigger.from_state is defined and
            trigger.from_state.state not in ['unknown', 'unavailable']
        %}
          {{ trigger.from_state.state }}
        {% else %}
          «None»
        {% endif %}
      attributes:
        light_id: light.kitchen
      availability: >-
        {{ has_value('sensor.hue_scene_kitchen') }}
