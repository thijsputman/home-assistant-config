<!-- vim: syntax=Markdown -->

# ToDo

- Move all `input_*` definitions relevant to automations into separate YAML
  files (instead of defining them in the Lovelace UI; this makes the automations
  portable)
- When Home Assistant restarts, or the automations are reloaded, all timer
  states are lost. Might want to put some failsafes in place to deal with this
  better. For example the electric heater in the shed might inadvertently get
  stuck in the "on" state due to this...
- Further implement the doorbell sensor and the "washing machine done"-sensor
  (both based on creative usage of vibration sensors)
- Use the lux sensors in various rooms to replace the global solar irradiance
  measurement
- Replace use of `nighttime` helper with new `time_of_day` helper. See if it's
  possible to use it in the graphs too; then the `input_boolean.nighttime` can
  be deleted altogether
- The transition from "lights off at dawn" to "daytime lights on when its dark
  during the day" is not optimal yet. At the moment I'm delaying the latter by
  10 seconds to prevent it from interfering with the former, there should be a
  nicer way to handle that...
- Get a proper RGBWW led controller for the kitchen counter. The current one
  isn't reliable; worked around in automation(s) at the moment, not the nicest
  solution...
  - Going to give it a try with this one:
    <https://nl.aliexpress.com/item/1005001430323964.html>
- tadoÂ° Enhancements and experiments:
  - Test how the "Away" mode actually works. Does it switch the thermostat mode
    to "off", or does the mode not change (I expect the latter &ndash; in case
    of the former, some additional logic is required for the home/away
    automations)?
  - Create several "backstops" (controlled via HomeKit) to ensure heating is
    properly controlled when there is no access to the Tado service (i.e. no
    Internet connection)

## Alarm

- Switch the alarm to "arm night" when everyone's asleep (in addition to doing
  this at 22:30 when someone's home). Furthermore, don't switch the alarm to
  "arm night" at 22:30 when it's set to "away"...
- Add notification for opened doors/windows when everyone's away
- Test `ðŸ“„ automations/alarm/alert.yaml`; completely _ad lib_ at the moment...
- Introduce a manual alarm control panel. Currently relying on the A(a)rlo being
  available/online. Better to use a manual control panel and make Arlo follow
  the state of that panel. In that case, if Arlo is ever offline (doesn't happen
  that much, but still) only the cameras will stop working â€“ not the entire
  alarm system
